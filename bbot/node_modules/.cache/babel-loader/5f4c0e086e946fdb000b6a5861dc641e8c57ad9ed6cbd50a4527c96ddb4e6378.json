{"ast":null,"code":"import _regeneratorRuntime from\"/home/runner/betbot/bbot/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/runner/betbot/bbot/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/runner/betbot/bbot/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Navigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Signup(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),mail=_useState2[0],setMail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),pass=_useState4[0],setPass=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),pass2=_useState6[0],setPass2=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),redirect=_useState8[0],setRedirect=_useState8[1];function submit(){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var resp,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/signup/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":getCookie(\"csrftoken\")},body:JSON.stringify({email:mail,pass1:pass,pass2:pass2})});case 2:resp=_context.sent;_context.next=5;return resp.json();case 5:res=_context.sent;if(res===\"signup success\"){console.log(\"signup success\");setRedirect(true);}case 7:case\"end\":return _context.stop();}},_callee);}));return _submit.apply(this,arguments);}if(redirect){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}function getCookie(name){var value=\"; \".concat(document.cookie);var parts=value.split(\"; \".concat(name,\"=\"));if(parts.length===2){return parts.pop().split(\";\").shift();}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"logms\",children:\"Register using valid details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logcard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\" Email\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setMail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setPass(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setPass2(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:submit,children:\"Submit\"})]})]});}export default Signup;","map":{"version":3,"names":["React","useState","Navigate","jsx","_jsx","jsxs","_jsxs","Signup","_useState","_useState2","_slicedToArray","mail","setMail","_useState3","_useState4","pass","setPass","_useState5","_useState6","pass2","setPass2","_useState7","_useState8","redirect","setRedirect","submit","_submit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","res","wrap","_callee$","_context","prev","next","fetch","method","headers","getCookie","body","JSON","stringify","email","pass1","sent","json","console","log","stop","to","name","value","concat","document","cookie","parts","split","length","pop","shift","children","className","onChange","e","target","onClick"],"sources":["/home/runner/betbot/bbot/src/login/Signup.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nfunction Signup() {\n  const [mail, setMail] = useState(\"\");\n  const [pass, setPass] = useState(\"\");\n  const [pass2, setPass2] = useState(\"\");\n  const [redirect, setRedirect] = useState(false);\n\n  async function submit() {\n    const resp = await fetch(\"/signup/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCookie(\"csrftoken\"),\n      },\n      body: JSON.stringify({\n        email: mail,\n        pass1: pass,\n        pass2: pass2,\n      }),\n    });\n\n    const res = await resp.json();\n    if (res === \"signup success\") {\n      console.log(\"signup success\");\n      setRedirect(true);\n    }\n  }\n\n  if (redirect) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  function getCookie(name) {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) {\n      return parts.pop().split(\";\").shift();\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"logms\">Register using valid details</div>\n      <div className=\"logcard\">\n        <div className=\"item\">\n          <span> Email</span>\n          <input onChange={(e) => setMail(e.target.value)} />\n        </div>\n        <div className=\"item\">\n          <span>Password</span>\n          <input onChange={(e) => setPass(e.target.value)} />\n        </div>\n        <div className=\"item\">\n          <span>Confirm Password</span>\n          <input onChange={(e) => setPass2(e.target.value)} />\n        </div>\n        <button onClick={submit}>Submit</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}