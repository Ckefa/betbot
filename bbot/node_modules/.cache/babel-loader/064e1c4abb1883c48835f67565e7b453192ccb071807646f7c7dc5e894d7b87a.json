{"ast":null,"code":"import _regeneratorRuntime from\"/home/runner/betbot/bbot/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/runner/betbot/bbot/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/runner/betbot/bbot/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./Login.css\";import React,{useState,useEffect}from\"react\";import{Navigate,redirect}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),mail=_useState2[0],setMail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),passkey=_useState4[0],setPass=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),redirect=_useState6[0],setRedirect=_useState6[1];function submit(){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var auth,resp;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/login/\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"X-CSRFToken\":getCookie(\"csrftoken\")},body:JSON.stringify({email:mail,pass1:passkey})});case 2:auth=_context.sent;_context.next=5;return auth.json();case 5:resp=_context.sent;console.log(resp);if(resp===\"login success\"){console.log(resp);setRedirect(true);}case 8:case\"end\":return _context.stop();}},_callee);}));return _submit.apply(this,arguments);}if(redirect){return/*#__PURE__*/_jsx(Navigate,{to:\"/vfl\"});}function getCookie(name){var value=\"; \".concat(document.cookie);var parts=value.split(\"; \".concat(name,\"=\"));if(parts.length===2){return parts.pop().split(\";\").shift();}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"logms\",children:\"Login to save your progress\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"logcard\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\" Email\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setMail(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"item\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(e){return setPass(e.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:submit,children:\"Login\"})]})]});}export default Login;","map":{"version":3,"names":["React","useState","useEffect","Navigate","redirect","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","mail","setMail","_useState3","_useState4","passkey","setPass","_useState5","_useState6","setRedirect","submit","_submit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","auth","resp","wrap","_callee$","_context","prev","next","fetch","method","headers","getCookie","body","JSON","stringify","email","pass1","sent","json","console","log","stop","to","name","value","concat","document","cookie","parts","split","length","pop","shift","children","className","onChange","e","target","onClick"],"sources":["/home/runner/betbot/bbot/src/login/Login.js"],"sourcesContent":["import \"./Login.css\";\nimport React, { useState, useEffect } from \"react\";\nimport { Navigate, redirect } from \"react-router-dom\";\n\nfunction Login() {\n  const [mail, setMail] = useState(\"\");\n  const [passkey, setPass] = useState(\"\");\n  const [redirect, setRedirect] = useState(false);\n\n  async function submit() {\n    const auth = await fetch(\"/login/\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"X-CSRFToken\": getCookie(\"csrftoken\"),\n      },\n      body: JSON.stringify({ email: mail, pass1: passkey }),\n    });\n\n    const resp = await auth.json();\n    console.log(resp);\n\n    if (resp === \"login success\") {\n      console.log(resp);\n      setRedirect(true);\n    }\n  }\n\n  if (redirect) {\n    return <Navigate to=\"/vfl\" />;\n  }\n\n  function getCookie(name) {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${name}=`);\n    if (parts.length === 2) {\n      return parts.pop().split(\";\").shift();\n    }\n  }\n\n  return (\n    <div>\n      <div className=\"logms\">Login to save your progress</div>\n      <div className=\"logcard\">\n        <div className=\"item\">\n          <span> Email</span>\n          <input onChange={(e) => setMail(e.target.value)} />\n        </div>\n        <div className=\"item\">\n          <span>Password</span>\n          <input onChange={(e) => setPass(e.target.value)} />\n        </div>\n        <button onClick={submit}>Login</button>\n      </div>\n    </div>\n  );\n}\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}